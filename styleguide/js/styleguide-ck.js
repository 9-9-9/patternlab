function updateViewportWidth(e){var t=$(".sg-size-px"),n=$(".sg-size-em"),r=parseInt($("body").css("font-size"));$("#sg-viewport").width(e);$("#sg-gen-container").width(Math.floor(e)+14);var i=Math.floor(e)/r;t.text(Math.floor(e));n.text(i.toFixed(2))}function receiveIframeMessage(e){if(e.origin!=="http://"+window.location.host)return;wsnConnected&&wsn.send(e.data)}(function(e){function i(e){$("#sg-gen-container").addClass("vp-animate");$("#sg-viewport").addClass("vp-animate");$("#sg-gen-container").width(e+14);$("#sg-viewport").width(e);l(e);s(e)}function s(e){findValue("vpWidth")?updateValue("vpWidth",e):addValue("vpWidth",e)}function f(){var e=$sgViewport.width()-14,t=e/a;o.text(e);u.text(t.toFixed(2))}function l(e){e=Math.floor(e);var t=e/a;o.text(e);u.text(t.toFixed(2))}function c(){i(p(240,t))}function h(){discoMode=!1;clearInterval(discoID);discoID=!1}function p(e,t){return Math.random()*(t-e)+e}function d(e,t){var n=$("#"+e);if(n.length){n.attr("src",t);return!1}return!0}var t=document.body.clientWidth,n=document.body.clientHeight,r=window.getComputedStyle(document.body,":after").getPropertyValue("content");$sgViewport=$("#sg-viewport"),$viewToggle=$("#sg-t-toggle"),$sizeToggle=$("#sg-size-toggle"),$tClean=$("#sg-t-clean"),$tAnnotations=$("#sg-t-annotations"),$tCode=$("#sg-t-code"),$tSidebar=$("#sg-t-sidebar"),$tFull=$("#sg-t-full"),$tSize=$("#sg-size"),$vp=Object,$sgPattern=Object,discoID=!1,discoMode=!1;$(e).resize(function(){t=document.body.clientWidth;n=document.body.clientHeight;r=window.getComputedStyle(document.body,":after").getPropertyValue("content");f()});$(".sg-nav-toggle").on("click",function(e){e.preventDefault();$(".sg-nav-container").toggleClass("active")});$viewToggle.on("click",function(e){e.preventDefault();$(this).parents("ul").toggleClass("active")});$sizeToggle.on("click",function(e){e.preventDefault();$(this).parents("ul").toggleClass("active")});$("#sg-size-s").on("click",function(e){e.preventDefault();h();i(p(300,500))});$("#sg-size-m").on("click",function(e){e.preventDefault();h();i(p(500,800))});$("#sg-size-l").on("click",function(e){e.preventDefault();h();i(p(800,1200))});$("#sg-size-xl").on("click",function(e){e.preventDefault();h();i(p(1200,1920))});$("#sg-size-random").on("click",function(e){e.preventDefault();h();i(p(240,t))});$("#sg-size-disco").on("click",function(e){e.preventDefault();if(discoMode)h();else{discoMode=!0;discoID=setInterval(c,800)}});$(".sg-size-px").keyup(function(e){if(e.keyCode==13){e.preventDefault();var t=$(this).text();i(Math.floor(t));return!1}});$sgViewport.load(function(){function r(){n.each(function(e){$this=$(this),$thisHTML=$this.html().replace(/[<>]/g,function(e){return{"<":"&lt;",">":"&gt;"}[e]}),$thisCode=$("<code></code>").html($thisHTML);$('<pre class="sg-code" />').html($thisCode).appendTo($this)});t.find(".sg-code").show()}var e=$sgViewport.attr("src"),t=$sgViewport.contents(),n=t.find(".sg-pattern");$tClean.on("click",function(e){e.preventDefault();$(this).toggleClass("active");$sgViewport.contents().hide();t.find("body").toggleClass("sg-clean");t.find("#intro, .sg-head, #about-sg").toggle();t.find("[role=main]").toggleClass("clean")});$tCode.on("click",function(e){var n=t.find(".sg-code");e.preventDefault();$(this).toggleClass("active");t.find(".sg-code").length==0?r():n.toggle()});t.find(".sg-head a").on("click",function(e){e.preventDefault();var t=$(this).attr("href")})});var o=$(".sg-size-px"),u=$(".sg-size-em"),a=parseInt($("body").css("font-size"));f();$(".sg-acc-handle").on("click",function(e){var t=$(this),n=t.next(".sg-acc-panel");e.preventDefault();t.toggleClass("active");n.toggleClass("active")});$(".sg-control-trigger").on("click",function(e){var t=$(this),n=t.parents(".sg-control-container");e.preventDefault();n.toggleClass("active")})})(this);$(".sg-nav a").not(".sg-acc-handle").on("click",function(e){$("#sg-viewport").attr("src",this.href);$(this).parents(".sg-acc-panel").toggleClass("active");$(this).parents(".sg-acc-panel").siblings(".sg-acc-handle").toggleClass("active");return!1});$("#sg-rightpull").mousedown(function(e){$("#sg-gen-container").removeClass("vp-animate");$("#sg-viewport").removeClass("vp-animate");var t=e.clientX,n=$("#sg-viewport").width();$("#sg-cover").css("display","block");$("#sg-cover").mousemove(function(e){viewportWidth=t>e.clientX?n-(t-e.clientX)*2:n+(e.clientX-t)*2;if(viewportWidth>319){findValue("vpWidth")?updateValue("vpWidth",viewportWidth):addValue("vpWidth",viewportWidth);updateViewportWidth(viewportWidth)}})});$("body").mouseup(function(e){$("#sg-cover").unbind("mousemove");$("#sg-cover").css("display","none")});var origViewportWidth=$("#sg-viewport").width();$("#sg-gen-container").width(origViewportWidth);$("#sg-viewport").width(origViewportWidth-14);var vpWidth=0,trackViewportWidth=!0;trackViewportWidth&&(vpWidth=findValue("vpWidth"))&&updateViewportWidth(vpWidth);window.addEventListener("message",receiveIframeMessage,!1);