function updateViewportWidth(e){var t=$(".sg-size-px"),n=$(".sg-size-em"),r=parseInt($("body").css("font-size"));$("#sg-viewport").width(e);$("#sg-gen-container").width(Math.floor(e)+14);var i=Math.floor(e)/r;t.text(Math.floor(e));n.text(i.toFixed(2))}function receiveIframeMessage(e){if(e.origin!=="http://"+window.location.host)return;wsnConnected&&wsn.send(e.data)}(function(e){function w(e){var t;e>i?t=i:e<r?t=r:t=e;$("#sg-gen-container").addClass("vp-animate");$("#sg-viewport").addClass("vp-animate");$("#sg-gen-container").width(t+14);$("#sg-viewport").width(t);C(t);E(t)}function E(e){findValue("vpWidth")?updateValue("vpWidth",e):addValue("vpWidth",e)}function N(){var e=o.width()-14,t=e/T;S.text(e);x.text(t.toFixed(2))}function C(e){var t=Math.floor(e),n=t/T;S.text(t);x.text(n.toFixed(2))}function k(e){var t=e/T;x.text(t.toFixed(2))}function L(e){var t=e*T;S.text(t)}function A(){w(_(240,t))}function O(){y=!1;clearInterval(g);g=!1}function M(){var e=$("#sg-viewport").width();b=!1;o.removeClass("hay-mode");$("#sg-gen-container").removeClass("hay-mode");w(Math.floor(e))}function _(e,t){return Math.random()*(t-e)+e}function D(e,t){var n=$("#"+e);if(n.length){n.attr("src",t);return!1}return!0}var t=document.body.clientWidth,n=document.body.clientHeight,r=240,i=2600,s=window.getComputedStyle(document.body,":after").getPropertyValue("content"),o=$("#sg-viewport"),u=$("#sg-t-toggle"),a=$("#sg-size-toggle"),f=$("#sg-t-clean"),l=$("#sg-t-annotations"),c=$("#sg-t-code"),h=$("#sg-t-sidebar"),p=$("#sg-t-full"),d=$("#sg-size"),v=Object,m=Object,g=!1,y=!1,b=!1;$(e).resize(function(){t=document.body.clientWidth;n=document.body.clientHeight;s=window.getComputedStyle(document.body,":after").getPropertyValue("content");N()});$(".sg-nav-toggle").on("click",function(e){e.preventDefault();$(".sg-nav-container").toggleClass("active")});u.on("click",function(e){e.preventDefault();$(this).parents("ul").toggleClass("active")});a.on("click",function(e){e.preventDefault();$(this).parents("ul").toggleClass("active")});$("#sg-nav a").on("click",function(e){var t=$(this);$("#sg-nav a").removeClass("active");t.addClass("active")});$("#sg-size-s").on("click",function(e){e.preventDefault();O();M();w(_(r,500))});$("#sg-size-m").on("click",function(e){e.preventDefault();O();M();w(_(500,800))});$("#sg-size-l").on("click",function(e){e.preventDefault();O();M();w(_(800,1200))});$("#sg-size-xl").on("click",function(e){e.preventDefault();O();M();w(_(1200,i))});$("#sg-size-full").on("click",function(e){e.preventDefault();O();M();w(t)});$("#sg-size-random").on("click",function(e){e.preventDefault();O();M();w(_(r,t))});$("#sg-size-disco").on("click",function(e){e.preventDefault();M();if(y)O();else{y=!0;g=setInterval(A,800)}});$("#sg-size-hay").on("click",function(e){e.preventDefault();O();if(b)M();else{b=!0;$("#sg-gen-container").removeClass("vp-animate").width(r+14);$("#sg-viewport").removeClass("vp-animate").width(r);var t=window.setTimeout(function(){$("#sg-gen-container").addClass("hay-mode").width(i+14);$("#sg-viewport").addClass("hay-mode").width(i)},200)}});$(".sg-size-px").keyup(function(e){var t=$(this).text();if(e.keyCode==13){e.preventDefault();w(Math.floor(t))}else k(t)});$(".sg-size-em").keyup(function(e){var t=$(this).text(),n=parseInt($("body").css("font-size"));if(e.keyCode==13){e.preventDefault();w(Math.floor(t*n))}else L(t)});o.load(function(){function r(){n.each(function(e){$this=$(this),$thisHTML=$this.html().replace(/[<>]/g,function(e){return{"<":"&lt;",">":"&gt;"}[e]}),$thisCode=$("<code></code>").html($thisHTML);$('<pre class="sg-code" />').html($thisCode).appendTo($this)});t.find(".sg-code").show()}var e=o.attr("src"),t=o.contents(),n=t.find(".sg-pattern");f.on("click",function(e){e.preventDefault();$(this).toggleClass("active");o.contents().hide();t.find("body").toggleClass("sg-clean");t.find("#intro, .sg-head, #about-sg").toggle();t.find("[role=main]").toggleClass("clean")});c.on("click",function(e){var n=t.find(".sg-code");e.preventDefault();$(this).toggleClass("active");t.find(".sg-code").length==0?r():n.toggle()});t.find(".sg-head a").on("click",function(e){e.preventDefault();var t=$(this).attr("href")})});var S=$(".sg-size-px"),x=$(".sg-size-em"),T=parseInt($("body").css("font-size"));N();$(".sg-acc-handle").on("click",function(e){var t=$(this),n=t.next(".sg-acc-panel");e.preventDefault();t.toggleClass("active");n.toggleClass("active")});$(".sg-control-trigger").on("click",function(e){var t=$(this),n=t.parents(".sg-control-container");e.preventDefault();n.toggleClass("active")})})(this);$(".sg-nav a").not(".sg-acc-handle").on("click",function(e){$("#sg-viewport").attr("src",this.href);$(this).parents(".sg-acc-panel").toggleClass("active");$(this).parents(".sg-acc-panel").siblings(".sg-acc-handle").toggleClass("active");return!1});$("#sg-rightpull").mousedown(function(e){$("#sg-gen-container").removeClass("vp-animate");$("#sg-viewport").removeClass("vp-animate");var t=e.clientX,n=$("#sg-viewport").width();$("#sg-cover").css("display","block");$("#sg-cover").mousemove(function(e){viewportWidth=t>e.clientX?n-(t-e.clientX)*2:n+(e.clientX-t)*2;if(viewportWidth>240){findValue("vpWidth")?updateValue("vpWidth",viewportWidth):addValue("vpWidth",viewportWidth);updateViewportWidth(viewportWidth)}})});$("body").mouseup(function(e){$("#sg-cover").unbind("mousemove");$("#sg-cover").css("display","none")});var origViewportWidth=$("#sg-viewport").width();$("#sg-gen-container").width(origViewportWidth);$("#sg-viewport").width(origViewportWidth-14);var vpWidth=0,trackViewportWidth=!0;trackViewportWidth&&(vpWidth=findValue("vpWidth"))&&updateViewportWidth(vpWidth);window.addEventListener("message",receiveIframeMessage,!1);